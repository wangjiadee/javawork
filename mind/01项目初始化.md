##### 微服务

轻量 独立部署



##### 基于分布式的微服务架构

springboot 分布式微服务架构的一站式解决方案 微服务全家桶



###### springboot 和springcloud 配合

https://start.spring.io/actuator/info

```json
        "spring-cloud": {
            "Hoxton.SR11": "Spring Boot >=2.2.0.RELEASE and <2.3.12.BUILD-SNAPSHOT",
            "Hoxton.BUILD-SNAPSHOT": "Spring Boot >=2.3.12.BUILD-SNAPSHOT and <2.4.0.M1",
            "2020.0.0-M3": "Spring Boot >=2.4.0.M1 and <=2.4.0.M1",
            "2020.0.0-M4": "Spring Boot >=2.4.0.M2 and <=2.4.0-M3",
            "2020.0.0": "Spring Boot >=2.4.0.M4 and <=2.4.0",
            "2020.0.3": "Spring Boot >=2.4.1 and <2.5.1-SNAPSHOT",
            "2020.0.4-SNAPSHOT": "Spring Boot >=2.5.1-SNAPSHOT"
        },
```

官网提示：

```
Release Train Version: 		Hoxton.SR1
Supported Boot Version:		2.2.2.RELEASE
com.alibaba.cloud：		   2.1.0.RELEASE
```



```
跟着老师的走 别浪 真的 
```



###### 工程创建：

设置编码

![image-20210607145726655](C:\Users\80288284\Desktop\Workbench\java_springcloud\mind\img\image-20210607145726655.png)

###### 支持注解

![image-20210607145910513](C:\Users\80288284\Desktop\Workbench\java_springcloud\mind\img\image-20210607145910513.png)

选择java8

![image-20210607150009335](C:\Users\80288284\Desktop\Workbench\java_springcloud\mind\img\image-20210607150009335.png)



##### pom 工程操作

```
  <packaging>pom</packaging>
```

如果有报错导入 先注释掉dependencyManagement 先导入 然后再放开注释

###### dependencyManagement和dependency的区别

```
使用pom.xml 中的dependencyManagement 元素能让所有在子项目中引用一个依赖而不用显式的列出版本号
Maven 会沿着父子层次向上走,制动找到一个用于dependencyManagement元素的项目,然后它就会使用这个dependencyManagement元素中指定版本号


dependencyManagement里面只是声明依赖,并不实现引入,因此子项目需要显示的声明需要用的依赖
```







### 微服务模块

```
1.建立module   --->  2.改写POM  ---> 3. 写yaml ---> 4.主启动  ---> 5.业务类
```

##### 1.建立module 

![image-20210607161203958](C:\Users\80288284\Desktop\Workbench\java_springcloud\mind\img\image-20210607161203958.png)

修改名字 确认即可

![image-20210607161238539](C:\Users\80288284\Desktop\Workbench\java_springcloud\mind\img\image-20210607161238539.png)

##### 2.改写POM

修改子工程的pom 

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <parent>
        <artifactId>SpringCloud</artifactId>
        <groupId>ralph.devops</groupId>
        <version>1.0-SNAPSHOT</version>
    </parent>
    <modelVersion>4.0.0</modelVersion>

    <artifactId>cloud-provider-payment8001</artifactId>


    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-actuator</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.mybatis.spring.boot</groupId>
            <artifactId>mybatis-spring-boot-starter</artifactId>
        </dependency>
        <dependency>
            <groupId>com.alibaba</groupId>
            <artifactId>druid-spring-boot-starter</artifactId>
        </dependency>
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-jdbc</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <scope>runtime</scope>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>


    <properties>
        <maven.compiler.source>8</maven.compiler.source>
        <maven.compiler.target>8</maven.compiler.target>
    </properties>

</project>
```

他人博客： https://blog.csdn.net/u011863024/article/details/114298282

